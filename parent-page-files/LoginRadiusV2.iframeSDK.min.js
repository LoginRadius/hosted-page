var LoginRadiusCiamWidget=function(e,p){function q(a){var d=decodeURIComponent(window.location.search.substring(1)).split("&"),b;for(b=0;b<d.length;b++){var c=d[b].split("=");if(c[0]===a)return void 0===c[1]?!0:c[1]}}var r={};p&&(r=p);var k={height:e.iframeSettings.height||"85%",width:e.iframeSettings.width||"100%","class":e.iframeSettings["class"]||"iframe"},l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var d="",b=0;for(a=l._utf8_encode(a);b<a.length;){var c=
a.charCodeAt(b++);var e=a.charCodeAt(b++);var g=a.charCodeAt(b++);var f=c>>2;c=(c&3)<<4|e>>4;var h=(e&15)<<2|g>>6;var k=g&63;isNaN(e)?h=k=64:isNaN(g)&&(k=64);d=d+this._keyStr.charAt(f)+this._keyStr.charAt(c)+this._keyStr.charAt(h)+this._keyStr.charAt(k)}return d},decode:function(a){var d="",b=0;for(a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");b<a.length;){var c=this._keyStr.indexOf(a.charAt(b++));var e=this._keyStr.indexOf(a.charAt(b++));var g=this._keyStr.indexOf(a.charAt(b++));var f=this._keyStr.indexOf(a.charAt(b++));
c=c<<2|e>>4;e=(e&15)<<4|g>>2;var h=(g&3)<<6|f;d+=String.fromCharCode(c);64!=g&&(d+=String.fromCharCode(e));64!=f&&(d+=String.fromCharCode(h))}return d=l._utf8_decode(d)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var d="",b=0;b<a.length;b++){var c=a.charCodeAt(b);128>c?d+=String.fromCharCode(c):(127<c&&2048>c?d+=String.fromCharCode(c>>6|192):(d+=String.fromCharCode(c>>12|224),d+=String.fromCharCode(c>>6&63|128)),d+=String.fromCharCode(c&63|128))}return d},_utf8_decode:function(a){var d=
"",b=0;for(c1=c2=0;b<a.length;){var c=a.charCodeAt(b);128>c?(d+=String.fromCharCode(c),b++):191<c&&224>c?(c2=a.charCodeAt(b+1),d+=String.fromCharCode((c&31)<<6|c2&63),b+=2):(c2=a.charCodeAt(b+1),c3=a.charCodeAt(b+2),d+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),b+=3)}return d}},f=l.encode(JSON.stringify(r)),n={};this.render=function(a,d,b,c,l){var g=document.createElement("iframe"),m=q("vtype")||"",h=q("vtoken")||"";g.src=m&&h?e.customdomain?"https://"+e.customdomain+"/"+b+"?action="+a+"&s="+
f+"&vtype="+m+"&vtoken="+h+"&return_url="+encodeURIComponent("https://"+e.customdomain+"/profile.aspx?action="+a+"&s="+f+"&vtype="+m+"&vtoken="+h):"https://"+(e.appName||"lr")+".hub.loginradius.com/"+b+"?action="+a+"&s="+f+"&vtype="+m+"&vtoken="+h+"&return_url="+encodeURIComponent("https://"+(e.appName||"lr")+".hub.loginradius.com/profile.aspx?action="+a+"&s="+f+"&vtype="+m+"&vtoken="+h):e.customdomain?"https://"+e.customdomain+"/"+b+"?action="+a+"&s="+f+"&return_url="+encodeURIComponent("https://"+
e.customdomain+"/profile.aspx?action="+a+"&s="+f):a?"https://"+(e.appName||"lr")+".hub.loginradius.com/"+b+"?action="+a+"&s="+f+"&return_url="+encodeURIComponent("https://"+(e.appName||"lr")+".hub.loginradius.com/profile.aspx?action="+a+"&s="+f):"https://"+(e.appName||"lr")+".hub.loginradius.com/"+b+"?s="+f+"&return_url="+encodeURIComponent("https://"+(e.appName||"lr")+".hub.loginradius.com/profile.aspx?s="+f);k&&(g.height=k.height,g.width=k.width,g.className=k["class"]);(a=document.getElementById(d))&&
a.appendChild(g);n={};n.success=c;n.error=l};window.addEventListener("message",function(a){if(-1<a.origin.indexOf(e.customdomain||"hub.loginradius.com"))if(a=JSON.parse(a.data),"deletecookie"==a.data.action)document.cookie="accesstoken=;expires=Thu, 01 Jan 1970 00:00:01 GMT ;",window.location.reload();else n[a.data.status]({response:a.data.data,event:a.data.action})},!1)};
